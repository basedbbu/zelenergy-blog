<script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>

<script type="text/javascript" src="{{ "/assets/js/jquery.fitvids.js" | relative_url }}"></script>
<script type="text/javascript" src="{{ "/assets/js/index.js" | relative_url }}"></script>
<script type="text/javascript" src="{{ "/assets/js/readingTime.min.js" | relative_url }}"></script>

<script>
(function ($) {
  "use strict";

  $(document).ready(function () {
    var $window = $(window);
    var $image = $('.post-image-image, .teaserimage-image');

    // Parallax-ish header image scroll (only if images exist)
    if ($image.length) {
      $window.on('scroll', function () {
        var top = $window.scrollTop();
        if (top < 0 || top > 1500) return;

        $image
          .css('transform', 'translate3d(0px, ' + (top / 3) + 'px, 0px)')
          .css('opacity', 1 - Math.max(top / 700, 0));
      });

      $window.trigger('scroll');
    }

    // Adjust content padding for hero image (only if elements exist)
    var $articleImage = $('.article-image');
    var $postContent = $('.post-content');

    if ($articleImage.length && $postContent.length) {
      var height = $articleImage.height() || 0;
      if (height > 0) {
        $postContent.css('padding-top', height + 'px');
      }
    }

    // Smooth scroll for same-page anchors (safer selector)
    $('a[href^="#"]:not([href="#"])').on('click', function (e) {
      var hash = this.hash;
      if (!hash) return;

      var $target = $(hash);
      if (!$target.length) return;

      e.preventDefault();
      $('html, body').animate({ scrollTop: $target.offset().top }, 500);
    });
  });

}(jQuery));
</script>

{% if site.google_analytics %}
  {% include google_analytics.html %}
{% endif %}
